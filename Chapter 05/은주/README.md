# Chapter 5. 코드를 더 깊이 있게 이해하기
- 이 장의 목표
  - 코드에 대한 추론에 도움이 되는 프레임워크를 알아보자
  - 이해의 여러 수준에 대해 알아보고, 좀 더 깊이 있게 이해하는 방법을 논의하자
  - 코드를 읽는데 유용한 방법을 알아보자
<br>
- 익숙하지 않은 코드를 읽을 때 인지부하가 높아진다
- 문법과 새로운 프로그래밍 개념을 학습하고, 코드를 리팩토링하면 인지 부하가 매우 낮아질 수 있다

## 5.1. '변수 역할' 프레임워크
- **변수가 어떤 종류의 정보를 담고 있는지 이해하는 것은, 코드를 추론하고 수정하는 데 결정적인 역할을 한다**
  - 따라서 적절한 변수명은 표식으로 사용될 수 있고, 읽고 있는 코드를 깊이 이해하는 데도 도움이 된다
- 변수를 이해하기 어려운 이유는, 대부분의 프로그래머가 **변수를 연관 지을 좋은 스키마를 자신들의 LTM 에 가지고 있지 않기 때문**이다
- `변수 역할` : 변수의 역할은 **프로그램 내에서 변수가 하고자 하는 바**를 나타낸다

### 5.1.2. 11가지 역할
- 11개의 역할로 대부분의 변수를 설명할 수 있다
- 고정값
  - 초기화를 통해 값이 할당된 후 값이 변경되지 않는 변수 
  - ex) 상수
- 스테퍼
  - 루프를 반복 실행하며 값이 단계적으로 변하는 함수 
  - ex) for 루프를 반복할 때 사용하는 i
- 플래그
  - 무엇인가 발생했거나 어떤 경우에 해당하는지 나타내는 변수
  - ex) isError, isAvailable
- 워커
  - 스테퍼와 유사하지만, 자료구조를 순회하는 방식이 차이점
  - 일단 루프가 시작되기 전에는 어떤 값을 가지게 될 지 알 수 없다
  - ex) 연결리스트에 새로운 값을 추가할 위치를 찾을 때 사용하는 변수, 이진 트리에서 사용되는 검색 인덱스
- 최근값 보유자
  - 어떤 값이 변해갈 때 가장 최근에 변경된 값을 갖는 변수
  - ex) line = file.readLine()
- 목적값 보유자
  - 찾고자 하는 값, 또는 현재까지 발견된 값 중에서 찾고자 하는 조건에 부합하는 값을 갖는 변수
  - ex) 최솟값, 최댓값, 어떤 조건을 만족하는 1번째 값
- 모집자
  - 데이터를 모으거나 모은 데이터에 대해 어떤 연산을 수행하여 얻은 값을 저장하는 변수
  - ex) sum
- 컨테이너
  - 값을 새로 추가하거나 삭제할 수 있는 자료구조
  - ex) 리스트, 배열, 스택, 트리
- 추적자
  - 어떤 알고리즘에서 이전 값 혹은 다음 값을 추적하는 역할을 수행하는 변수
  - ex) 연결리스트에서 이전 값에 대한 포인터, 이진 트리에서 이전에 방문한 원소의 인덱스
- 조직자
  - 다른 값을 저장하기 위한 목적으로 사용하는 변수
- 임시
  - 데이터를 맞바꾸거나 메서드나 함수에서 여러 번 사용되는 계산의 결과를 저장할 때 사용
  - ex) temp

## 5.2. 역할과 패러다임
### 5.2.1. 역할의 이점
- 이 프레임워크는 새로운 개념이라기보다는 변수에 대해 논의할 때 사용할 수 있는 새로운 용어를 제공해주는 정도로 생각하면 된다
- 이 프레임워크가 효과적인 이유 중 하나는, 몇 개의 역할이 하나로 묶여서 프로그램의 어떤 한 타입을 특정 짓는다는 것이다
  - ex) 스테퍼 + 목적값 보유자 -> 검색 프로그램
- 변수 이름에 역할명을 포함하면 변수 역할을 파악할 때 수고로움을 덜 수 있다

### 5.2.2. 헝가리안 표기법
- 헝가리안 표기법 : 변수의 타입을 변수명에 나타내는 방식

## 5.3. 프로그램에 대해 깊이 있는 지식을 얻으려면
### 5.3.1. 텍스트 지식 대 계획 지식
- `텍스트 구조 지식` : 키워드가 하는 일, 변수의 역할 같은 프로그램의 표면적 이해와 관련됨
- `계획 지식` : 프로그래머가 **프로그램을 작성할 때 계획한 것이 무엇인지 혹은 무엇을 달성하려고 했는지**
- 코드를 작성한 프로그래머의 목적은 변수, 변수의 역할을 통해서만 알 수 있는 게 아니라 **코드가 어떤 구조로 되어 있고, 어떻게 연결되어 있는지 살펴볼 때 명확해진다**

### 5.3.2. 프로그램 이해의 여러 단계
- 프로그래머들은 코드를 읽을 때 일반적으로 코드의 `초점` 을 먼저 찾는다
  - 자바의 Main 메소드와 같은 **코드 내 진입점이 이에 해당한다**
- 표면적 지식으로부터 좀 더 깊은 이해로의 진행은 4단계를 거친다
  1. 초점을 찾는다
  2. 초점으로부터 지식을 확장한다
  3. 관련된 개체로부터 개념을 이해한다
  4. 여러 개체에 걸쳐 있는 개념을 이해한다
- 코드를 읽을 때 초점이 중요한 이유는, **어디서부터 읽기 시작해야 할 지 알아야 하기 때문**이다
- 소스코드 자체는 쉽게 이해하지만, 실행 시스템의 실제 구조는 확실히 이해하지 못할 수도 있다
  <br>= '텍스트 지식'은 있으나 '계획 지식' 이 없는 경우에 해당됨

#### 깊은 코드 이해 4단계 적용해보기
1. 초점을 찾는다
   - 하나의 초점에서 코드 파악을 시작하라
2. 초점으로부터 지식을 확장한다
   - 최상위 수준의 코드로부터 연결되는 메소드, 함수는 어떤 것들이 있는지 확인하면서 검색 영역을 확대해보라
   - 슬라이스 : 하이라이트한 코드
     - 어떤 한 라인 X 의 슬라이스 == 라인 X와 관련 있는 모든 코드 라인
   - 슬라이스를 집중해서 보면 프로그램의 어디에서 데이터가 사용되는지 이해하는 데 도움이 된다
3. 관련된 개체로부터 개념을 이해한다
   - 하이라이트 한 슬라이스 내에서 여러 번 호출되는 메소드를 주시하라.
     - 그 메소드는 코드에서 중요한 역할을 할 가능성이 높고, 좀 더 자세히 살펴볼 만하다
   - 중요한 부분을 파악하고 나면 모든 관련 클래스를 나열하고, 이들의 관계를 적어놓고 깊이 있게 생각해보라 
4. 여러 개체에 걸쳐 있는 개념을 이해한다
   - 코드에 있는 서로 다른 개념들을 고수준에서 이해한다
     - 자료구조, 자료구조에 적용된 연산과 그 연산에 대한 제약도 이해한다

## 5.4. 텍스트를 읽는 것과 코드르 읽는 것은 유사하다
## 5.5. 코드 읽기에 적용해볼 수 있는 텍스트 이해 전략


> 1. 변수/메소드명을 명시적으로 짓자